<Window x:Class="ServerApplication.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:ServerApplication"
        Background="{StaticResource WindowBackgroundBrush}"
        Title="MainWindow" Height="480" Width="1015">
    <Window.Resources>
        
    </Window.Resources>
    <UserControl>
        <TabControl Name="Tab">
            <TabItem Header="Overview">
                <Grid Background="{StaticResource WindowBackgroundBrush}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <GroupBox Header="Connected devices" Name="ConnectedDevicesGroupBox" FontWeight="Bold" Grid.Row="0" Grid.Column="0" Margin="5,5,4,138" Grid.RowSpan="2">
                        <Grid Name="ConnectedDevicesGrid">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>

                            </Grid.RowDefinitions>
                        </Grid>
                    </GroupBox>
                    <StackPanel Name="AllDevicesStackPanel" Orientation="Horizontal" HorizontalAlignment="Right" Grid.Row="1" Grid.Column="0" Margin="50,120,40,50" IsEnabled="False">
                        <Button Name="StartAllDevicesButton" Click="StartAllDevices" Margin="0,0,0,0" Width="100">Start All</Button>
                        <Button Name="StoplAllDevicesButton" Click="StopAllDevices" Margin="155,0,0,0" Width="100">Stop All</Button>
                    </StackPanel>

                    <GroupBox Header="Actions" Name="GeneralActionsGroupBox" FontWeight="Bold" Grid.Row="1" Grid.Column="1"  Margin="6,5,5,21">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Button Content="Configure Server" Grid.Row="0" Name="BtnConfiguration" Click="BtnSetupConfiguration" Margin="0,5,0,5"/>
                            <Button Content="Start Session" Grid.Row="1" Name="BtnStart" Click="BtnStartClick" Margin="0,5,0,5"/>
                            <Button Content="Stop Session" Grid.Row="2" Name="BtnStop" Click="BtnStopClick" Margin="0,5,0,5"/>
                            <Button Content="Quit" Grid.Row="3" Name="BtnQuit" Click="BtnQuitClick" Margin="0,5,0,5"/>
                        </Grid>
                    </GroupBox>
                    <GroupBox Header="Log" FontWeight="Bold" Grid.Row="0" Grid.Column="1" Margin="5,5,5,5">
                        <TextBox x:Name="Logs" Grid.Row="0" Grid.Column="0" TextWrapping="Wrap" IsReadOnlyCaretVisible="True" AutomationProperties.IsOffscreenBehavior="FromClip" Text="{Binding Path = Log}" TextChanged="Log_TextChanged" ScrollViewer.VerticalScrollBarVisibility="Auto" Height="158" ForceCursor="True" Margin="10,0,6,0"/>
                    </GroupBox>
                </Grid>
            </TabItem>
            <TabItem Header="Configuration" x:Name="ConfigurationTab">
                <Grid Background="{StaticResource WindowBackgroundBrush}" Name="LocalRecordingGrid">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="320*"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <GroupBox Header="Configuration" FontWeight="Bold" Grid.Column="0" Margin="5,5,4,0" Grid.ColumnSpan="2" Grid.RowSpan="2">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <Label Grid.Row="0" Grid.Column="0" Content="RendezVous Host :" FontWeight="Bold" Margin="2,4,2,1"/>
                            <TextBox Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="3" TextWrapping="Wrap" Text="{Binding Configuration.RendezVousHost}" Margin="0,5,5,3"/>

                            <Label Grid.Column="0" Content="RendezVous Port :" FontWeight="Bold" Margin="2,3,8,3" Grid.Row="1"/>
                            <TextBox Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="3" TextWrapping="Wrap" Text="{Binding Configuration.RendezVousPort}" Margin="0,5,5,4"/>

                            <Label Grid.Row="2" Grid.Column="0" Content="Clock Port :" FontWeight="Bold" Margin="2,3,8,3"/>
                            <TextBox Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="3" TextWrapping="Wrap" Text="{Binding Configuration.ClockPort}" Margin="0,5,5,3"/>

                            <Label Grid.Row="3" Grid.Column="0" Content="Store Mode :" FontWeight="Bold"  Margin="2,3,8,3"/>
                            <ComboBox Grid.Row="3" Grid.Column="1" ItemsSource="{Binding StoreModeList}" SelectionChanged="StoreModeSelected" Name="StoreModeComboBox" Grid.ColumnSpan="3" Margin="0,5,5,3"/>

                            <Label Grid.Row="4" Grid.Column="0" Content="Dataset Path :" FontWeight="Bold" Margin="2,3,8,3"/>
                            <TextBox Grid.Row="4" Grid.ColumnSpan="3" TextWrapping="Wrap" Text="{Binding Path = LocalDatasetPath}" Name="DatasetPathTextBox" Margin="0,5,5,3" Grid.Column="1"/>
                            <Button Grid.Row="4" Grid.Column="3" Content="Browse" Click="BtnBrowseNameClick" Margin="0,4,5,3"/>

                            <Label Grid.Row="5" Grid.Column="0" Content="Dataset Name :" FontWeight="Bold" Margin="1,2,17,7"/>
                            <TextBox Grid.Row="5" Grid.Column="1" TextWrapping="Wrap" Text="{Binding Path= LocalDatasetName}" Grid.ColumnSpan="3" Margin="0,5,5,2"/>

                            <Label Grid.Row="6" Grid.Column="0" Content="Session Mode :" FontWeight="Bold" Grid.ColumnSpan="2" Margin="0,7,33,31" Grid.RowSpan="2"/>
                            <ComboBox Grid.Row="6" Grid.Column="1" ItemsSource="{Binding SessionModeList}" SelectionChanged="SessionModeSelected" Name="SessionModeComboBox" Grid.ColumnSpan="3" Margin="0,5,5,3"/>
                            
                            <Label Grid.Row="7" Grid.Column="0" Content="Session Name :" FontWeight="Bold" Margin="1,4,4,3"/>
                            <TextBox Grid.Row="7" Grid.Column="1" Grid.ColumnSpan="3" TextWrapping="Wrap" Text="{Binding Path = LocalSessionName}" Margin="0,5,5,2"/>
                            
                            <Label Grid.Row="8" Grid.Column="0" Content="Get Streams Logs :" FontWeight="Bold"/>
                            <CheckBox Grid.Row="8" Grid.Column="1" Name="DebugCheckbox" IsChecked="{Binding IsDebug}" Click="CkbDebug" Margin="0,10,0,0"/>

                            <Label Grid.Row="9" Grid.Column="0" Content="Extra Configuration :" FontWeight="Bold" Margin="1,2,17,1"/>
                            <TextBox Grid.Row="9" Grid.ColumnSpan="2" TextWrapping="Wrap" Text="{Binding Path = ExternalConfigurationDirectory}" Name="ExternalConfigurationTextBox" Margin="0,5,0,3" Grid.Column="1"/>
                            <Button Grid.Row="9" Grid.Column="3" Content="Browse" Click="BtnBrowseExternalConfiguration_Click" Margin="0,4,2,3"/>
                            
                            <Button Content="Load Configuration" Grid.Row="10" Grid.ColumnSpan="4" Click="BtnLoadConfiguration" Name="BtnLoadConfig" Margin="5,5,5,5"/>
                            <Button Content="Save Configuration" Grid.ColumnSpan="4" Grid.Row="11" Click="BtnSaveConfiguration" Name="BtnSaveConfig" Margin="5,5,5,5"/>
                        </Grid>
                    </GroupBox>
                    
                    <GroupBox Header="Configuration Logs" FontWeight="Bold" Grid.Row="0" Grid.Column="2" Grid.ColumnSpan="2" Margin="6,5,5,0">
                        <TextBox x:Name="ConfigurationLogs" Grid.Row="0" Grid.Column="0" TextWrapping="Wrap" IsReadOnlyCaretVisible="True" AutomationProperties.IsOffscreenBehavior="FromClip" Text="{Binding Path = Log}" TextChanged="Log_TextChanged" ScrollViewer.VerticalScrollBarVisibility="Auto" ForceCursor="True" Margin="10,0,6,6"/>
                    </GroupBox>


                </Grid>
            </TabItem>
            <TabItem Header="Annotation" x:Name="AnnotationTab">
                <Grid Background="{StaticResource WindowBackgroundBrush}" Name="AnnotationGrid">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <CheckBox Grid.Row="0" Grid.Column="0" Content="Enable Annotations" Name="AnnotationEnabledCheckBox" FontWeight="Bold" Margin="10,10,10,10" VerticalAlignment="Center" IsChecked="{Binding IsAnnotationEnabled}" Checked="CkbActivateAnnotation" Unchecked="CkbActivateAnnotation"/>

                    <GroupBox Header="Annotation Settings" FontWeight="Bold" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Margin="5,5,5,5">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <Label Grid.Row="0" Grid.Column="0" Content="Annotation Schema Directory:" FontWeight="Bold" Margin="5,10,5,5" VerticalAlignment="Center"/>
                            <TextBox Grid.Row="0" Grid.Column="1" Name="AnnotationSchemaDirectoryTextBox" TextWrapping="Wrap" Text="{Binding AnnotationSchemaDirectory}" Margin="5,10,5,5" VerticalAlignment="Center"/>
                            <Button Grid.Row="0" Grid.Column="2" Content="Browse" Name="BtnBrowseSchemaDirectory" Click="BtnBrowseSchemaDirectoryClick" Margin="5,10,5,5" Width="75"/>

                            <Label Grid.Row="1" Grid.Column="0" Content="Annotation Web Page (HTML):" FontWeight="Bold" Margin="5,10,5,5" VerticalAlignment="Center"/>
                            <TextBox Grid.Row="1" Grid.Column="1" Name="AnnotationWebPageTextBox" TextWrapping="Wrap" Text="{Binding AnnotationWebPage}" Margin="5,10,5,5" VerticalAlignment="Center"/>
                            <Button Grid.Row="1" Grid.Column="2" Content="Browse" Name="BtnBrowseWebPage" Click="BtnBrowseWebPageClick" Margin="5,10,5,5" Width="75"/>

                            <Label Grid.Row="2" Grid.Column="0" Content="Annotation Port:" FontWeight="Bold" Margin="5,10,5,5" VerticalAlignment="Center"/>
                            <TextBox Grid.Row="2" Grid.Column="1" Name="AnnotationPortTextBox" TextWrapping="Wrap" Text="{Binding AnnotationPort}" Margin="5,10,5,5" VerticalAlignment="Center" TextChanged="AnnotationPortTextBox_TextChanged"/>
                        </Grid>
                    </GroupBox>
                </Grid>
            </TabItem>

        </TabControl>
    </UserControl>
</Window>
